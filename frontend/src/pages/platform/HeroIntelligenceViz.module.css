/**
 * Hero Intelligence Visualization
 * Living, animated intelligence system — core, orbital nodes, beams, particles.
 * Brand: #0466c8, #0353a4, #023e7d, cyan, teal, soft purple, soft green.
 */

/* ── Wrapper (sizing and hover state) ───────────────────────── */
.wrapper {
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 420px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: filter 0.6s ease;
}

.wrapperHover .coreInner,
.wrapperHover .coreGlow {
  filter: brightness(1.15);
}

.wrapperHover .nodeCircle {
  transform: scale(1.05);
}

.wrapperHover .beam {
  stroke-opacity: 0.6;
}

/* ── Layer 5 — Background intelligence field ───────────────── */
.bgField {
  position: absolute;
  inset: -10%;
  pointer-events: none;
  overflow: hidden;
}

.bgGrid {
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(4, 102, 200, 0.04) 1px, transparent 1px),
    linear-gradient(90deg, rgba(4, 102, 200, 0.04) 1px, transparent 1px);
  background-size: 24px 24px;
  animation: gridMove 80s linear infinite;
}

@keyframes gridMove {
  0% {
    transform: translate(0, 0);
  }

  100% {
    transform: translate(24px, 24px);
  }
}

.bgParticle {
  position: absolute;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: rgba(4, 102, 200, 0.12);
  left: calc(20% + (var(--i) * 15%));
  top: calc(15% + (var(--i) * 12%));
  animation: bgFloat 15s ease-in-out infinite;
  animation-delay: calc(var(--i) * -2.5s);
}

@keyframes bgFloat {

  0%,
  100% {
    transform: translate(0, 0);
    opacity: 0.4;
  }

  33% {
    transform: translate(8px, -12px);
    opacity: 0.7;
  }

  66% {
    transform: translate(-6px, 6px);
    opacity: 0.5;
  }
}

/* ── Layer 4 — Orbit rings (faint, slow rotate) ───────────────── */
.orbitRings {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  transition: transform 0.2s ease-out;
}

.orbitSvg {
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

.orbitRing {
  fill: none;
  stroke: rgba(4, 102, 200, 0.08);
  stroke-width: 1;
  transform-origin: 200px 200px;
  animation: orbitRotate 90s linear infinite;
}

.orbitRing:nth-child(2) {
  animation-duration: 110s;
  animation-direction: reverse;
}

.orbitRing:nth-child(3) {
  animation-duration: 120s;
}

@keyframes orbitRotate {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

/* ── Main SVG container ───────────────────────────────────── */
.mainSvg {
  position: relative;
  z-index: 2;
  width: 100%;
  height: 100%;
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  transition: transform 0.15s ease-out;
}

/* ── Layer 3 — Connection beams ─────────────────────────────── */
.beams line {
  stroke: url(#beamGrad);
  stroke-width: 1.2;
  stroke-opacity: 0.35;
  stroke-linecap: round;
  filter: drop-shadow(0 0 4px rgba(4, 102, 200, 0.3));
  transition: stroke-opacity 0.4s ease;
}

.wrapperHover .beams line {
  stroke-opacity: 0.55;
}

/* Signal particles along beams */
.particleGroup {
  animation: particleTravel 3s ease-in-out infinite;
}

.particleDot {
  opacity: 0.9;
  filter: drop-shadow(0 0 2px rgba(125, 211, 252, 0.8));
}

@keyframes particleTravel {
  0% {
    transform: translate(0, 0);
    opacity: 0.3;
  }

  15% {
    opacity: 1;
  }

  85% {
    opacity: 1;
  }

  100% {
    transform: translate(var(--dx), var(--dy));
    opacity: 0.3;
  }
}

/* ── Layer 1 — Central core ────────────────────────────────── */
.coreGroup {
  transform-origin: 200px 200px;
}

.coreGlow {
  transform-origin: 200px 200px;
  animation: coreBreathing 3.5s ease-in-out infinite;
  transition: filter 0.6s ease;
}

.coreRingOuter {
  transform-origin: 200px 200px;
  animation: coreRingRotate 50s linear infinite;
}

.coreRingMid {
  transform-origin: 200px 200px;
  animation: coreRingRotate 65s linear infinite reverse;
}

.coreInner {
  transform-origin: 200px 200px;
  animation: coreBreathing 3.5s ease-in-out infinite;
  transition: filter 0.6s ease;
}

.coreInnerHighlight {
  pointer-events: none;
}

.coreIcon {
  pointer-events: none;
}

@keyframes coreBreathing {

  0%,
  100% {
    transform: scale(1);
    opacity: 1;
  }

  50% {
    transform: scale(1.08);
    opacity: 0.95;
  }
}

@keyframes coreRingRotate {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

/* ── Layer 2 — Orbital nodes ────────────────────────────────── */
.nodeGroup {
  transform-origin: 0 0;
  animation: nodeFloat 7s ease-in-out infinite;
}

.nodesWrap .nodeGroup:nth-child(1) {
  animation-duration: 6s;
  animation-delay: 0s;
}

.nodesWrap .nodeGroup:nth-child(2) {
  animation-duration: 8s;
  animation-delay: 0.7s;
}

.nodesWrap .nodeGroup:nth-child(3) {
  animation-duration: 5.5s;
  animation-delay: 1.4s;
}

.nodesWrap .nodeGroup:nth-child(4) {
  animation-duration: 7.2s;
  animation-delay: 0.3s;
}

.nodesWrap .nodeGroup:nth-child(5) {
  animation-duration: 9s;
  animation-delay: 1s;
}

.nodesWrap .nodeGroup:nth-child(6) {
  animation-duration: 6.5s;
  animation-delay: 0.5s;
}

.nodesWrap .nodeGroup:nth-child(7) {
  animation-duration: 4.8s;
  animation-delay: 1.2s;
}

.nodesWrap .nodeGroup:nth-child(8) {
  animation-duration: 7.8s;
  animation-delay: 0.2s;
}

@keyframes nodeFloat {

  0%,
  100% {
    transform: translate(var(--nx), var(--ny));
  }

  25% {
    transform: translate(calc(var(--nx) + 8px), calc(var(--ny) - 6px));
  }

  50% {
    transform: translate(calc(var(--nx) - 5px), calc(var(--ny) + 10px));
  }

  75% {
    transform: translate(calc(var(--nx) + 6px), calc(var(--ny) + 4px));
  }
}

.nodeIcon {
  pointer-events: none;
  transform-origin: 0 0;
  transform: translate(-12px, -12px) scale(0.88);
}

.nodeCircle {
  fill: rgba(255, 255, 255, 0.92);
  stroke-width: 1.5;
  stroke: rgba(4, 102, 200, 0.25);
  filter: drop-shadow(0 2px 8px rgba(9, 30, 66, 0.08));
  transition: transform 0.4s ease, filter 0.4s ease;
}

.nodeColorcyan .nodeCircle {
  stroke: rgba(8, 145, 178, 0.4);
}

.nodeColorblue .nodeCircle {
  stroke: rgba(4, 102, 200, 0.45);
}

.nodeColorteal .nodeCircle {
  stroke: rgba(20, 184, 166, 0.4);
}

.nodeColorpurple .nodeCircle {
  stroke: rgba(101, 84, 192, 0.35);
}

.nodeColorgreen .nodeCircle {
  stroke: rgba(34, 197, 94, 0.35);
}

.nodeColorsapphire .nodeCircle {
  stroke: rgba(3, 83, 164, 0.5);
}

.nodeLabel {
  font-family: var(--font-family);
  font-size: 9px;
  font-weight: 500;
  fill: var(--color-text-secondary);
  letter-spacing: 0.02em;
  pointer-events: none;
  user-select: none;
}

/* ── Responsive: tablet (all 8 nodes visible, enlarged) ───────── */
@media (max-width: 1024px) {
  .wrapper {
    min-height: 540px;
    overflow: visible;
  }

  .orbitRing:nth-child(3) {
    display: none;
  }

  .bgParticle:nth-child(n+5) {
    display: none;
  }
}

/* ── Responsive: mobile (all 8 nodes, scaled to fit) ─────────── */
@media (max-width: 767px) {
  .wrapper {
    min-height: 280px;
    overflow: visible;
    transform: scale(0.82);
    transform-origin: center center;
  }

  .nodeLabel {
    font-size: 8px;
  }

  @keyframes nodeFloat {

    0%,
    100% {
      transform: translate(var(--nx), var(--ny));
    }

    50% {
      transform: translate(calc(var(--nx) + 5px), calc(var(--ny) - 4px));
    }
  }

  .coreGlow,
  .coreInner {
    animation-duration: 4s;
  }

  .orbitRing {
    animation-duration: 100s;
  }
}

/* ── Reduced motion ─────────────────────────────────────────── */
@media (prefers-reduced-motion: reduce) {

  .bgGrid,
  .bgParticle,
  .orbitRing,
  .particleGroup,
  .coreGlow,
  .coreInner,
  .coreRingOuter,
  .coreRingMid,
  .nodeGroup {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
  }
}