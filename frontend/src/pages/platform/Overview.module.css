/**
 * Platform Overview — Autonomous Intelligence Infrastructure
 * Motion-driven, information-dense, premium. Not marketing; platform documentation feel.
 */

.page {
  position: relative;
  background: var(--color-bg-default);
  overflow-x: hidden;
}

/* Vertical stripe lines (full height of page, like StripeSection) */
.page::before,
.page::after {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  width: 1px;
  background: rgba(0, 0, 0, 0.07);
  pointer-events: none;
  z-index: 0;
}

.page::before {
  left: 170px;
}

.page::after {
  right: 170px;
}

.container {
  position: relative;
  z-index: 1;
  max-width: var(--max-content-width);
  margin: 0 auto;
  padding: 0 var(--space-4);
}

/* Ensure sections sit above stripe lines */
.hero,
.section,
.sectionLayers,
.sectionFlow,
.sectionMetrics,
.sectionCTA {
  position: relative;
  z-index: 1;
}

/* ── Scroll reveal base ────────────────────────────────────── */
.section.inView .sectionLabel,
.section.inView .sectionTitle,
.section.inView .sectionLead,
.sectionLayers.inView .sectionLabel,
.sectionLayers.inView .sectionTitle,
.sectionLayers.inView .sectionLead,
.sectionFlow.inView .sectionLabel,
.sectionFlow.inView .sectionTitle,
.sectionMetrics.inView .sectionLabel,
.sectionMetrics.inView .sectionTitle,
.sectionCTA.inView .ctaTitle,
.sectionCTA.inView .ctaDesc,
.sectionCTA.inView .ctaButtons {
  opacity: 1;
  transform: translateY(0);
}

/* ── SECTION 1: Hero (90–110vh) ─────────────────────────────── */
.hero {
  min-height: 100vh;
  display: flex;
  align-items: center;
  padding: calc(var(--navbar-height) + var(--space-6)) var(--space-4) var(--space-7);
  background: linear-gradient(180deg, #EBF0F7 0%, #F2F6FC 40%, #FFFFFF 100%);
  border-bottom: 1px solid rgba(0, 0, 0, 0.07);
}

.heroGrid {
  display: grid;
  grid-template-columns: 0.42fr 0.58fr;
  gap: var(--space-7);
  align-items: center;
  max-width: var(--max-content-width);
  margin: 0 auto;
  width: 100%;
}

.heroContent {
  max-width: 520px;
}

.heroLabel {
  display: inline-block;
  font-size: 10px;
  font-weight: 600;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--color-text-muted);
  margin-bottom: var(--space-3);
  opacity: 0;
  transform: translateY(20px);
  animation: fadeUp 0.6s ease 0ms forwards;
}

.heroTitle {
  font-family: var(--font-family-heading);
  font-size: clamp(32px, 4vw, 48px);
  font-weight: 700;
  line-height: 1.15;
  color: var(--color-text-primary);
  margin: 0 0 var(--space-4);
  letter-spacing: -0.02em;
  opacity: 0;
  transform: translateY(60px);
  animation: fadeUp 0.9s ease 200ms forwards;
}

.heroSubtitle {
  font-size: clamp(15px, 1.6vw, 17px);
  line-height: 1.65;
  color: var(--color-text-secondary);
  margin: 0 0 var(--space-3);
  opacity: 0;
  transform: translateY(40px);
  animation: fadeUp 0.8s ease 400ms forwards;
}

.heroMicro {
  font-size: 13px;
  line-height: 1.5;
  color: var(--color-text-muted);
  margin: 0 0 var(--space-5);
  opacity: 0;
  transform: translateY(30px);
  animation: fadeUp 0.7s ease 600ms forwards;
}

.heroCTAs {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
  opacity: 0;
  transform: translateY(30px);
  animation: fadeUp 0.7s ease 600ms forwards;
}

.ctaPrimary {
  display: inline-flex;
  align-items: center;
  padding: 14px var(--space-4);
  font-size: 15px;
  font-weight: 600;
  color: #fff;
  background: var(--color-secondary);
  border-radius: var(--radius-lg);
  text-decoration: none;
  transition: background-color 0.2s ease, transform 0.15s ease;
}

.ctaPrimary:hover {
  background: var(--color-secondary-hover);
  transform: scale(1.03);
}

.ctaSecondary {
  display: inline-flex;
  align-items: center;
  padding: 14px var(--space-4);
  font-size: 15px;
  font-weight: 600;
  color: var(--color-secondary);
  background: transparent;
  border: 1.5px solid var(--color-secondary);
  border-radius: var(--radius-lg);
  text-decoration: none;
  transition: color 0.2s ease, background-color 0.2s ease, transform 0.15s ease;
}

.ctaSecondary:hover {
  color: #fff;
  background: var(--color-secondary);
  transform: scale(1.03);
}

.heroVizWrap {
  position: relative;
  min-height: min(85vh, 520px);
  height: 100%;
  min-width: 0;
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

/* Desktop: viz zooms in after left content (1.2s delay, 1.5s duration) */
@media (min-width: 1025px) {
  .heroVizReveal {
    opacity: 0;
    transform: scale(0.92);
    transform-origin: center center;
    animation: heroVizZoomIn 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) 1.2s forwards;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-end;
  }
}

@keyframes heroVizZoomIn {
  from {
    opacity: 0;
    transform: scale(0.92);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes fadeUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ── Section common ───────────────────────────────────────── */
.section,
.sectionLayers,
.sectionFlow,
.sectionMetrics {
  padding: var(--space-7) var(--space-4);
  border-bottom: 1px solid rgba(0, 0, 0, 0.07);
}

.sectionLabel {
  display: inline-block;
  font-size: 10px;
  font-weight: 600;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--color-secondary);
  margin-bottom: var(--space-2);
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.8s ease, transform 0.8s ease;
}

.section.inView .sectionLabel,
.sectionLayers.inView .sectionLabel,
.sectionFlow.inView .sectionLabel,
.sectionMetrics.inView .sectionLabel { transition-delay: 0ms; }

.sectionTitle {
  font-family: var(--font-family-heading);
  font-size: clamp(28px, 3.5vw, 40px);
  font-weight: 700;
  line-height: 1.2;
  color: var(--color-text-primary);
  margin: 0 0 var(--space-3);
  letter-spacing: -0.02em;
  opacity: 0;
  transform: translateY(50px);
  transition: opacity 0.8s ease 100ms, transform 0.8s ease 100ms;
}

.sectionLead {
  font-size: 17px;
  line-height: 1.6;
  color: var(--color-text-secondary);
  margin: 0 0 var(--space-6);
  max-width: 640px;
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.8s ease 150ms, transform 0.8s ease 150ms;
}

/* ── SECTION 2: Purpose cards ──────────────────────────────── */
.purposeGrid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-4);
}

.purposeCard {
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(0, 0, 0, 0.06);
  border-radius: 12px;
  padding: var(--space-4);
  box-shadow: var(--shadow-card);
  opacity: 0;
  transform: translateY(60px);
  transition: opacity 0.8s ease, transform 0.8s ease, box-shadow 0.2s ease;
}

.section.inView .purposeCard { opacity: 1; transform: translateY(0); }
.section.inView .purposeCard:nth-child(1) { transition-delay: 0ms; }
.section.inView .purposeCard:nth-child(2) { transition-delay: 150ms; }
.section.inView .purposeCard:nth-child(3) { transition-delay: 300ms; }
.section.inView .purposeCard:nth-child(4) { transition-delay: 450ms; }

.purposeCard:hover {
  transform: translateY(-6px);
  box-shadow: 0 8px 24px rgba(9, 30, 66, 0.12);
}

.purposeCardIcon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 44px;
  height: 44px;
  margin-bottom: var(--space-3);
  background: rgba(0, 82, 204, 0.08);
  border-radius: 50%;
  color: var(--color-secondary);
}

.purposeCardIcon svg {
  flex-shrink: 0;
}

.purposeCardTitle {
  font-family: var(--font-family-heading);
  font-size: 17px;
  font-weight: 600;
  color: var(--color-text-primary);
  margin: 0 0 var(--space-2);
}

.purposeCardDesc {
  font-size: 14px;
  line-height: 1.55;
  color: var(--color-text-secondary);
  margin: 0;
}

/* ── SECTION 3: Layers ─────────────────────────────────────── */
.sectionLayers {
  background: linear-gradient(180deg, #FFFFFF 0%, #F8FAFF 50%, #F0F4FA 100%);
}

.layersWrap {
  display: grid;
  grid-template-columns: 1fr 380px;
  gap: var(--space-6);
  align-items: start;
}

.layersStack {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
}

.layerSlab {
  display: flex;
  align-items: center;
  gap: var(--space-3);
  background: rgba(255, 255, 255, 0.95);
  border: 1px solid rgba(0, 0, 0, 0.06);
  border-radius: 12px;
  padding: var(--space-4) var(--space-5);
  box-shadow: 0 2px 8px rgba(9, 30, 66, 0.06);
  opacity: 0;
  transform: translateY(100px);
  transition: opacity 0.9s ease, transform 0.9s ease, box-shadow 0.2s ease, transform 0.2s ease;
}

.layerIcon {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  color: var(--color-text-primary);
}

.layerIcon svg {
  flex-shrink: 0;
}

.sectionLayers.inView .layerSlab { opacity: 1; transform: translateY(0); }

.layerSlab:nth-child(1) { transition-delay: 0ms; }
.layerSlab:nth-child(2) { transition-delay: 200ms; }
.layerSlab:nth-child(3) { transition-delay: 400ms; }
.layerSlab:nth-child(4) { transition-delay: 600ms; }
.layerSlab:nth-child(5) { transition-delay: 800ms; }

.layerSlab:hover,
.layerSlabActive {
  transform: translateY(-12px);
  box-shadow: 0 12px 32px rgba(9, 30, 66, 0.12);
  border-color: rgba(0, 82, 204, 0.15);
}

.layerName {
  font-family: var(--font-family-heading);
  font-size: 17px;
  font-weight: 600;
  color: var(--color-text-primary);
}

.layerDescPanel {
  position: sticky;
  top: calc(var(--navbar-height) + var(--space-4));
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(0, 0, 0, 0.06);
  border-radius: 12px;
  padding: var(--space-5);
  box-shadow: var(--shadow-card);
}

.layerDescTitle {
  font-family: var(--font-family-heading);
  font-size: 18px;
  font-weight: 600;
  color: var(--color-text-primary);
  margin: 0 0 var(--space-3);
}

.layerDescText {
  font-size: 15px;
  line-height: 1.6;
  color: var(--color-text-secondary);
  margin: 0;
}

/* ── SECTION 4: Capabilities grid ───────────────────────────── */
.capGrid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--space-4);
}

.capCard {
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(0, 0, 0, 0.06);
  border-radius: 12px;
  padding: var(--space-4);
  box-shadow: var(--shadow-card);
  opacity: 0;
  transform: translateY(50px);
  transition: opacity 0.7s ease, transform 0.7s ease, box-shadow 0.2s ease, transform 0.2s ease;
}

.section.inView .capCard { opacity: 1; transform: translateY(0); }
.section.inView .capCard:nth-child(1) { transition-delay: 0ms; }
.section.inView .capCard:nth-child(2) { transition-delay: 120ms; }
.section.inView .capCard:nth-child(3) { transition-delay: 240ms; }
.section.inView .capCard:nth-child(4) { transition-delay: 200ms; }
.section.inView .capCard:nth-child(5) { transition-delay: 320ms; }
.section.inView .capCard:nth-child(6) { transition-delay: 440ms; }

.capCard:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 24px rgba(9, 30, 66, 0.1);
}

.capCardIcon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  margin-bottom: var(--space-3);
  background: linear-gradient(135deg, var(--color-secondary), var(--color-accent));
  border-radius: 8px;
  opacity: 0.95;
  color: #fff;
}

.capCardIcon svg {
  flex-shrink: 0;
}

.capCardTitle {
  font-family: var(--font-family-heading);
  font-size: 16px;
  font-weight: 600;
  color: var(--color-text-primary);
  margin: 0 0 var(--space-2);
}

.capCardDesc {
  font-size: 14px;
  line-height: 1.55;
  color: var(--color-text-secondary);
  margin: 0;
}

/* ── SECTION 5: Flow ────────────────────────────────────────── */
.sectionFlow {
  background: linear-gradient(180deg, #F0F4FA 0%, #F8FAFF 100%);
}

.flowPipeline {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: var(--space-4);
  position: relative;
}

.flowNode {
  flex: 1;
  min-width: 160px;
  position: relative;
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.8s ease, transform 0.8s ease;
}

.sectionFlow.inView .flowNode { opacity: 1; transform: translateY(0); }

.flowConnector {
  position: absolute;
  top: 24px;
  left: calc(100% - 20px);
  width: 40px;
  height: 2px;
  background: linear-gradient(90deg, var(--color-secondary), transparent);
  opacity: 0.4;
}

.flowNodeDot {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--color-secondary);
  margin-bottom: var(--space-2);
  box-shadow: 0 0 0 4px rgba(0, 82, 204, 0.2);
}

.flowNodeTitle {
  font-family: var(--font-family-heading);
  font-size: 15px;
  font-weight: 600;
  color: var(--color-text-primary);
  margin: 0 0 var(--space-1);
}

.flowNodeDesc {
  font-size: 13px;
  line-height: 1.5;
  color: var(--color-text-secondary);
  margin: 0;
}

/* ── SECTION 6: Differentiators ────────────────────────────── */
.diffStack {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

.diffCard {
  display: flex;
  align-items: flex-start;
  gap: var(--space-4);
  background: rgba(255, 255, 255, 0.95);
  border: 1px solid rgba(0, 0, 0, 0.06);
  border-radius: 12px;
  padding: var(--space-5);
  box-shadow: var(--shadow-card);
  opacity: 0;
  transform: translateX(-60px);
  transition: opacity 0.9s ease, transform 0.9s ease;
}

.diffCard[data-side="right"] {
  transform: translateX(60px);
}

.section.inView .diffCard { opacity: 1; transform: translateX(0); }
.section.inView .diffCard:nth-child(1) { transition-delay: 0ms; }
.section.inView .diffCard:nth-child(2) { transition-delay: 120ms; }
.section.inView .diffCard:nth-child(3) { transition-delay: 240ms; }
.section.inView .diffCard:nth-child(4) { transition-delay: 360ms; }

.diffCardIcon {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  width: 44px;
  height: 44px;
  background: linear-gradient(135deg, var(--color-secondary), var(--color-accent));
  border-radius: 8px;
  color: #fff;
}

.diffCardIcon svg {
  flex-shrink: 0;
}

.diffCardContent {
  flex: 1;
  min-width: 0;
}

.diffCardTitle {
  font-family: var(--font-family-heading);
  font-size: 20px;
  font-weight: 600;
  color: var(--color-text-primary);
  margin: 0 0 var(--space-2);
}

.diffCardDesc {
  font-size: 15px;
  line-height: 1.6;
  color: var(--color-text-secondary);
  margin: 0;
}

/* ── SECTION 7: Metrics ────────────────────────────────────── */
.sectionMetrics {
  background: linear-gradient(180deg, #F8FAFF 0%, #EBF0F7 100%);
}

.metricsGrid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-4);
}

.metricCard {
  text-align: center;
  padding: var(--space-5);
  background: rgba(255, 255, 255, 0.9);
  border-radius: 12px;
  border: 1px solid rgba(0, 0, 0, 0.06);
  box-shadow: var(--shadow-card);
}

.metricValue {
  display: block;
  font-family: var(--font-family-heading);
  font-size: clamp(22px, 2.4vw, 28px);
  font-weight: 600;
  color: var(--color-secondary);
  margin-bottom: var(--space-2);
}

.metricLabel {
  font-family: var(--font-family-heading);
  font-size: 14px;
  font-weight: 600;
  line-height: 1.55;
  color: var(--color-text-secondary);
}

.metricLabelNowrap {
  white-space: nowrap;
}

/* ── SECTION 8: Final CTA ───────────────────────────────────── */
.sectionCTA {
  position: relative;
  padding: var(--space-7) var(--space-4);
  overflow: hidden;
  border-bottom: 1px solid rgba(0, 0, 0, 0.07);
}

.ctaBg {
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, #F0F4FA 0%, #E8EEF5 100%);
  opacity: 0.95;
}

.ctaBg::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: radial-gradient(circle at 20% 50%, rgba(0, 82, 204, 0.06) 0%, transparent 50%),
    radial-gradient(circle at 80% 50%, rgba(101, 84, 192, 0.06) 0%, transparent 50%);
  pointer-events: none;
}

.sectionCTA .container {
  position: relative;
  z-index: 1;
  text-align: center;
}

.ctaTitle {
  font-family: var(--font-family-heading);
  font-size: clamp(26px, 3.5vw, 36px);
  font-weight: 700;
  line-height: 1.25;
  color: var(--color-text-primary);
  margin: 0 0 var(--space-3);
  max-width: 640px;
  margin-left: auto;
  margin-right: auto;
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.8s ease, transform 0.8s ease;
}

.ctaDesc {
  font-size: 17px;
  line-height: 1.6;
  color: var(--color-text-secondary);
  margin: 0 0 var(--space-5);
  max-width: 520px;
  margin-left: auto;
  margin-right: auto;
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s ease 100ms, transform 0.8s ease 100ms;
}

.ctaButtons {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: var(--space-3);
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s ease 150ms, transform 0.8s ease 150ms;
}

/* ── Tablet (includes iPad Mini 768px) ─────────────────────────── */
@media (min-width: 768px) and (max-width: 1024px) {
  .page::before {
    left: 80px;
  }

  .page::after {
    right: 80px;
  }

  .heroGrid {
    grid-template-columns: 1fr;
    text-align: center;
  }

  .heroContent {
    max-width: none;
  }

  .heroCTAs {
    justify-content: center;
  }

  .heroVizWrap {
    min-height: 560px;
    max-width: 98%;
    margin-left: auto;
    margin-right: auto;
    justify-content: center;
    overflow: visible;
  }

  .purposeGrid {
    grid-template-columns: repeat(2, 1fr);
  }

  .layersWrap {
    grid-template-columns: 1fr;
  }

  .layerDescPanel {
    position: static;
  }

  .capGrid {
    grid-template-columns: repeat(2, 1fr);
  }

  .flowPipeline {
    flex-direction: column;
    align-items: stretch;
  }

  .flowConnector {
    left: 24px;
    top: 100%;
    width: 2px;
    height: 24px;
    background: linear-gradient(180deg, var(--color-secondary), transparent);
  }

  .metricsGrid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* ── Mobile (below iPad Mini) ────────────────────────────────── */
@media (max-width: 767px) {
  .page::before {
    left: 60px;
  }

  .page::after {
    right: 60px;
  }

  .hero {
    min-height: auto;
    padding: calc(var(--navbar-height) + var(--space-4)) var(--space-3) var(--space-6);
  }

  .heroGrid {
    grid-template-columns: 1fr;
    gap: var(--space-5);
    text-align: center;
  }

  .heroContent {
    max-width: none;
  }

  .heroCTAs {
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .heroVizWrap {
    min-height: 260px;
    max-width: 94%;
    margin-left: auto;
    margin-right: auto;
    justify-content: center;
  }

  .section,
  .sectionLayers,
  .sectionFlow,
  .sectionMetrics {
    padding: var(--space-6) var(--space-3);
  }

  .section .container,
  .sectionLayers .container,
  .sectionFlow .container,
  .sectionMetrics .container {
    text-align: center;
  }

  .sectionLead {
    text-align: center;
  }

  .purposeGrid {
    grid-template-columns: 1fr;
  }

  .layersWrap {
    grid-template-columns: 1fr;
  }

  .capGrid {
    grid-template-columns: 1fr;
  }

  .flowPipeline {
    flex-direction: column;
  }

  .flowConnector {
    left: 24px;
    top: 100%;
    width: 2px;
    height: 20px;
    background: linear-gradient(180deg, var(--color-secondary), transparent);
  }

  .metricsGrid {
    grid-template-columns: 1fr;
  }

  .ctaButtons {
    flex-direction: column;
    align-items: center;
  }

  .ctaPrimary,
  .ctaSecondary {
    width: 100%;
    max-width: 280px;
    justify-content: center;
  }
}

/* ── Disable scroll animations on tablet and mobile ───────────── */
@media (max-width: 1024px) {
  .heroLabel,
  .heroTitle,
  .heroSubtitle,
  .heroMicro,
  .heroCTAs {
    opacity: 1;
    transform: translateY(0);
    animation: none;
  }

  .sectionLabel,
  .sectionTitle,
  .sectionLead {
    opacity: 1;
    transform: translateY(0);
    transition: none;
  }

  .purposeCard,
  .layerSlab,
  .capCard,
  .flowNode {
    opacity: 1;
    transform: translateY(0);
    transition: none;
  }

  .diffCard,
  .diffCard[data-side="right"] {
    opacity: 1;
    transform: translateX(0);
    transition: none;
  }

  .ctaTitle,
  .ctaDesc,
  .ctaButtons {
    opacity: 1;
    transform: translateY(0);
    transition: none;
  }
}
